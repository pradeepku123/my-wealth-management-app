<div class="bg-white rounded-lg shadow-lg max-w-md w-full mx-auto">
  <!-- Header -->
  <div class="flex items-center justify-between p-6 border-b border-gray-200">
    <div class="flex items-center space-x-3">
      <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
        <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
        </svg>
      </div>
      <h2 class="text-lg font-semibold text-gray-900">{{ dialogTitle }}</h2>
    </div>
  </div>

  <!-- Content -->
  <div class="p-6 space-y-4 max-h-96 overflow-y-auto">
    <!-- Investment Type -->
    <div class="space-y-2">
      <label class="text-sm font-medium text-gray-700">Investment Type</label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select [(ngModel)]="fundData.investment_type" required>
          <mat-option *ngFor="let type of investmentTypes" [value]="type.value">
            {{ type.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!-- Investment Name -->
    <div class="space-y-2">
      <label class="text-sm font-medium text-gray-700">Investment Name</label>
      <mat-form-field appearance="outline" class="w-full">
        <input matInput [(ngModel)]="fundData.fund_name" required placeholder="e.g., SBI Bluechip Fund">
      </mat-form-field>
    </div>

    <!-- Amount Fields -->
    <div class="grid grid-cols-2 gap-4">
      <div class="space-y-2">
        <label class="text-sm font-medium text-gray-700">Invested Amount</label>
        <mat-form-field appearance="outline" class="w-full">
          <input matInput type="number" [(ngModel)]="fundData.invested_amount" required min="0" step="0.01">
          <span matTextPrefix>₹&nbsp;</span>
        </mat-form-field>
      </div>

      <div class="space-y-2">
        <label class="text-sm font-medium text-gray-700">Current Value</label>
        <mat-form-field appearance="outline" class="w-full">
          <input matInput type="number" [(ngModel)]="fundData.current_value" required min="0" step="0.01">
          <span matTextPrefix>₹&nbsp;</span>
        </mat-form-field>
      </div>
    </div>
    
    <!-- Returns Info -->
    <div *ngIf="fundData.invested_amount && fundData.current_value" class="bg-gray-50 rounded-lg p-4">
      <div class="flex items-center justify-between">
        <span class="text-sm font-medium text-gray-600">Returns:</span>
        <span class="text-sm font-semibold" [class.text-green-600]="getReturns() > 0" [class.text-red-600]="getReturns() < 0" [class.text-gray-600]="getReturns() === 0">
          ₹{{ getReturns() | number:'1.2-2' }} ({{ getReturnsPercentage() | number:'1.2-2' }}%)
        </span>
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50">
    <button mat-button (click)="onCancel()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
      Cancel
    </button>
    <button mat-flat-button color="primary" (click)="onSave()" [disabled]="!isValid()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
      {{ isEditMode ? 'Update' : 'Save' }}
    </button>
  </div>
</div>